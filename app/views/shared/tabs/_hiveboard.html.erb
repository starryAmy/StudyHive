<%= turbo_stream_from "hiveboard_#{@room.id}" %>

<div class="room-show-tab-hiveboard">
  <% if @max_likes && @max_likes > 0 && @chatmessages_most_liked %>
    <% @chatmessages_most_liked.each do |chatmessage| %>
      <div id="message-<%= chatmessage.id %>">
        <small>
          <strong><%= chatmessage.user.username %></strong>
          <i><%= chatmessage.created_at.in_time_zone("Asia/Tokyo").strftime("%a %b %e at %H:%M") %></i>
          <%= chatmessage.get_likes.size%> <i class="fas fa-heart" style="color: red"></i>
        </small>
        <p><%= chatmessage.content %></p>
      </div>
    <% end %>
  <% end %>
  <div id="hiveboard_<%= @room.id %>">
    <% @notifications.each do |notification| %>
      <%= render partial: "shared/tabs/notification", locals: { notification: notification } %>
    <% end %>
  </div>
</div>
